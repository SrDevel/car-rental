<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../css/admin-vehicles.css">
    <title>Admin vehículos - RentEasy</title>
</head>

<body>
    <%-  include('../partials/sidebar') %>
        <section id="content">
            <%- include('../partials/admin-nav') %>
                <main>
                    <div class="notification-box flex flex-col items-center justify-center fixed w-full z-50 p-3">
                        <!-- Notification container -->
                    </div>
                    
                    <div class="head-title">
                        <div class="left">
                            <h1>Vehículos</h1>
                            <ul class="breadcrumb">
                                <li>
                                    <a href="#">Panel de Control</a>
                                </li>
                                <li><i class='bx bx-chevron-right'></i></li>
                                <li>
                                    <a class="active" href="#">Vehículos</a>
                                </li>
                            </ul>
                        </div>
                        <a href="/admin/new-vehicle" class="btn-download">
                            <i class='bx bxs-plus-circle'></i>
                            <span class="text">Agregar vehículo</span>
                        </a>
                    </div>

                    <div class="table-data">
                        <table>
                            <thead>
                                <tr>
                                    <th>Imagen</th>
                                    <th>Marca</th>
                                    <th>Modelo</th>
                                    <th>Precio</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% vehicles.forEach(vehicle=> { %>
                                    <tr>
                                        <td>
                                            <img src="../<%= vehicle.image %>"
                                                alt="<%= vehicle.brand %> <%= vehicle.model %>">
                                        </td>
                                        <td>
                                            <%= vehicle.brand %>
                                        </td>
                                        <td>
                                            <%= vehicle.model %>
                                        </td>
                                        <td>
                                            <%= Number(vehicle.price).toLocaleString('es-CO', { style: 'currency' ,
                                                currency: 'COP' }) %>
                                        </td>
                                        <td>
                                            <a href="/admin/edit-vehicle/<%= vehicle.id%>" class="btn-edit" title="Editar">
                                                <i class='bx bx-edit'></i>
                                            </a>
                                            <a href="/admin/delete-vehicle/<%= vehicle.id %>" class="btn-delete"
                                                title="Eliminar">
                                                <i class='bx bx-trash'></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <% }); %>
                            </tbody>
                        </table>
                    </div>
                </main>
        </section>
        <script src="../js/dashboard.js"></script>
        <script>
            // Le ponemos la clase active al link del sidebar que corresponde a la página actual
            const liElements = document.querySelectorAll('.side-menu li');

            // Quitamos la clase active de todos los elementos
            liElements.forEach(li => {
                li.classList.remove('active');
                li.querySelector('a').classList.remove('active');
            });

            liElements[1].classList.add('active');
            liElements[1].querySelector('a').classList.add('active');
        </script>
</body>

</html>